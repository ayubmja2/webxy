import{P as h,J as V,l as p,f as U,w as d,o as r,a as t,d as c,g as I,k as n,p as i,c as u,m as y,F as v,s as q,t as C,z as P}from"./app-lU8TWT0b.js";import{_ as S,P as g}from"./Panel-BiDUElB3.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CCfLUJ2G.js";const D={class:"p-4"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},F={class:"mb-4"},M={class:"mb-4 space-y-4"},$=["onUpdate:modelValue"],B=["onUpdate:modelValue"],G=["onUpdate:modelValue"],L=["value"],O=["onClick","disabled"],T={__name:"Create",setup(N){window.Pusher=h,window.Echo=new V({broadcaster:"pusher",key:"9ed8ddbfeadd466bd1a2",cluster:"us2",encrypted:!0,forceTLS:!0});const m=p(["Gram (g)","Kilogram (kg)","Ounce (oz)","Pound (lb)","Teaspoon (tsp)","Tablespoon (tbsp)","Cup (c)","Fluid Ounce (fl oz)","Pint (pt)","Quart (qt)","Gallon (gal)","Milliliter (ml)","Liter (l)","Large","Medium","Small"]),b=p(["1/4","1/2","1/3","1","2","3"]),l=p({title:"",description:"",instruction:"",image_url:null,ingredients:[{name:"",quantity:b.value[0],unit:m.value[0]}]}),x=a=>{l.value.image_url=a.target.files[0]},w=()=>{l.value.ingredients.push({name:"",quantity:b.value[0],unit:m.value[0]})},k=a=>{l.value.ingredients.splice(a,1)},_=async()=>{const a=new FormData;a.append("title",l.value.title),a.append("description",l.value.description),a.append("instruction",l.value.instruction),l.value.image_url&&a.append("image_url",l.value.image_url),l.value.ingredients.forEach((e,s)=>{a.append(`ingredients[${s}][name]`,e.name),a.append(`ingredients[${s}][quantity]`,e.quantity),a.append(`ingredients[${s}][unit]`,e.unit)});try{q.post("/recipes",a)}catch(e){console.error("Error getting socket_id:",e)}};return(a,e)=>(r(),U(S,null,{default:d(()=>[t("div",D,[c(g,null,{default:d(()=>[e[9]||(e[9]=t("h1",{class:"text-2xl font-bold mb-6"},"Share your recipe",-1)),t("form",{onSubmit:I(_,["prevent"])},[t("div",E,[c(g,{class:"space-y-4"},{default:d(()=>[e[4]||(e[4]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Recipe Name",-1)),n(t("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=s=>l.value.title=s),class:"mt-1 p-2 block w-full rounded-xl border-gray-300 shadow-sm"},null,512),[[i,l.value.title]]),e[5]||(e[5]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),n(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=s=>l.value.description=s),class:"mt-1 p-2 block w-full rounded-2xl border-gray-300 shadow-sm h-40 resize-none"},null,512),[[i,l.value.description]]),e[6]||(e[6]=t("label",{for:"instruction",class:"block text-sm font-medium text-gray-700"},"Instructions",-1)),n(t("textarea",{id:"instruction","onUpdate:modelValue":e[2]||(e[2]=s=>l.value.instruction=s),class:"mt-1 p-2 block w-full rounded-2xl border-gray-300 shadow-sm h-40 resize-none"},null,512),[[i,l.value.instruction]]),t("div",F,[e[3]||(e[3]=t("label",{for:"image",class:"block text-sm font-medium text-gray-700"},"Image",-1)),t("input",{type:"file",id:"image",onChange:x,class:"mt-1 p-2 block w-full rounded-xl border-gray-300 shadow-sm"},null,32)])]),_:1}),c(g,null,{default:d(()=>[t("div",M,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"Ingredients",-1)),(r(!0),u(v,null,y(l.value.ingredients,(s,f)=>(r(),u("div",{key:f,class:"flex flex-wrap items-center mb-2 space-y-2 md:space-y-0"},[n(t("input",{type:"text","onUpdate:modelValue":o=>s.name=o,placeholder:"Ingredient",class:"block w-full md:w-1/4 p-2 flex-1 rounded-xl border-gray-300 shadow-sm mr-2"},null,8,$),[[i,s.name]]),n(t("input",{type:"text","onUpdate:modelValue":o=>s.quantity=o,placeholder:"e.g., 1 3/4",class:"block w-full md:w-1/5 p-2 rounded-xl border-gray-300 shadow-sm mr-4"},null,8,B),[[i,s.quantity]]),n(t("select",{"onUpdate:modelValue":o=>s.unit=o,class:"block w-full md:w-1/4 p-2 rounded-xl border-gray-300 shadow-sm mr-2"},[(r(!0),u(v,null,y(m.value,o=>(r(),u("option",{key:o,value:o},C(o),9,L))),128))],8,G),[[P,s.unit]]),t("button",{type:"button",onClick:o=>k(f),class:"text-red-500 ml-2",disabled:l.value.ingredients.length===1},"Remove",8,O)]))),128)),t("button",{type:"button",onClick:w,class:"bg-darkOrange text-mintGreen py-2 px-4 rounded-lg"},"Add Ingredient")])]),_:1}),e[8]||(e[8]=t("button",{type:"submit",class:"mt-4 bg-darkOrange text-mintGreen p-3 px-4 rounded-2xl col-span-2 w-3/4 justify-self-center"},"Submit",-1))])],32)]),_:1})])]),_:1}))}},K=z(T,[["__scopeId","data-v-2dfe1691"]]);export{K as default};
