import{Q as $,l as i,f as R,w as g,o as a,a as e,d as _,t as p,c as n,h as v,m as I,F as B,g as D,k as E,p as V,q as m,s as x}from"./app-B0POS_qi.js";import{_ as j,P as y}from"./Panel-Cm2YOkga.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-1RqGdrda.js";const M={class:"container mx-auto p-4"},N={class:"grid grid-cols-3 justify-items-end font-medium mb-8"},T={class:"col-start-2 justify-self-center"},q={class:"relative"},P={key:0,class:"absolute right-0 mt-2 bg-white rounded-md shadow-lg z-20"},S={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},z={class:"container mx-auto"},L={class:"flex space-x-1"},Q={class:"flex items-center"},U={class:"flex flex-col space-y-4"},A={class:"flex mx-auto"},G=["src"],H={class:"flex-1 text-center"},J={class:"text-lg font-bold"},K=["onClick"],O=["onClick"],W={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full flex justify-center items-center"},X={class:"bg-white rounded-lg p-4 relative"},Y={__name:"Index",setup(Z){const{props:f}=$(),l=i(f.category),u=i(f.recipes),r=i(!1),c=i(!1),d=i(l.value.title),h=o=>{x.get(`/recipes/${o}`)},b=async()=>{try{await m.patch(`/categories/${l.value.id}`,{title:d.value}),l.value.title=d.value,r.value=!1,c.value=!1}catch(o){console.error("Error renaming category:",o)}},k=async()=>{try{await m.delete(`/categories/${l.value.id}`),x.get("/cookbook"),r.value=!1}catch(o){console.error("Error deleting category:",o)}},w=async o=>{try{await m.delete(`/categories/${l.value.id}/recipes/${o.id}`),u.value=u.value.filter(t=>t.id!==o.id)}catch(t){console.error("Error removing recipe from category:",t)}};return(o,t)=>(a(),R(j,null,{default:g(()=>[e("div",M,[_(y,null,{default:g(()=>[e("div",N,[e("h1",T,p(l.value.title),1),e("div",q,[e("i",{class:"fa-solid fa-ellipsis cursor-pointer",onClick:t[0]||(t[0]=s=>r.value=!r.value)}),r.value?(a(),n("div",P,[e("button",{onClick:t[1]||(t[1]=s=>c.value=!0),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},"Rename "),e("button",{onClick:k,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},"Delete ")])):v("",!0)])]),e("div",S,[e("div",z,[e("div",null,[e("ul",L,[(a(!0),n(B,null,I(u.value,s=>(a(),n("li",{class:"flex-shrink-0",key:s.id},[_(y,null,{default:g(()=>[e("div",Q,[e("div",U,[e("div",A,[s.image_url?(a(),n("img",{key:0,src:s.image_url,alt:"Recipe Image",class:"w-40 h-40 rounded-lg"},null,8,G)):v("",!0)]),e("div",H,[e("h3",J,p(s.title),1)]),e("button",{class:"bg-orange-500 text-white py-2 px-4 rounded-lg",onClick:C=>h(s.id)},"Info ",8,K),e("button",{class:"bg-red-500 text-white py-2 px-4 rounded-lg",onClick:C=>w(s)},"Remove ",8,O)])])]),_:2},1024)]))),128))])])])])]),_:1})]),c.value?(a(),n("div",W,[e("div",X,[e("button",{onClick:t[2]||(t[2]=s=>c.value=!1),class:"absolute top-2 right-2 text-gray-500 hover:text-gray-800"},"Ã— "),t[5]||(t[5]=e("h2",{class:"text-xl mb-4"},"Rename Category",-1)),e("form",{onSubmit:D(b,["prevent"])},[E(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>d.value=s),type:"text",class:"border p-2 rounded w-full mb-4",required:""},null,512),[[V,d.value]]),t[4]||(t[4]=e("button",{type:"submit",class:"bg-blue-500 text-white p-2 rounded"},"Rename",-1))],32)])])):v("",!0)]),_:1}))}},le=F(Y,[["__scopeId","data-v-2ee0f68f"]]);export{le as default};
