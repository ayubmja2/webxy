import{Q as R,k as i,o as l,c as S,w as v,b as e,a as f,t as h,f as n,g as _,l as B,F as D,e as E,i as V,m as j,p as m,q as x,s as F,x as M}from"./app-BU0xrf4Q.js";import{_ as N,P as y}from"./Panel-CeMKWKD_.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BWS2mGwc.js";const b=c=>(F("data-v-2ee0f68f"),c=c(),M(),c),q={class:"container mx-auto p-4"},P={class:"grid grid-cols-3 justify-items-end font-medium mb-8"},z={class:"col-start-2 justify-self-center"},L={class:"relative"},Q={key:0,class:"absolute right-0 mt-2 bg-white rounded-md shadow-lg z-20"},U={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},A={class:"container mx-auto"},G={class:"flex space-x-1"},H={class:"flex items-center"},J={class:"flex flex-col space-y-4"},K={class:"flex mx-auto"},O=["src"],W={class:"flex-1 text-center"},X={class:"text-lg font-bold"},Y=["onClick"],Z=["onClick"],ee={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full flex justify-center items-center"},te={class:"bg-white rounded-lg p-4 relative"},se=b(()=>e("h2",{class:"text-xl mb-4"},"Rename Category",-1)),oe=b(()=>e("button",{type:"submit",class:"bg-blue-500 text-white p-2 rounded"},"Rename",-1)),ae={__name:"Index",setup(c){const{props:p}=R(),a=i(p.category),g=i(p.recipes),r=i(!1),d=i(!1),u=i(a.value.title),k=o=>{x.get(`/recipes/${o}`)},w=async()=>{try{await m.patch(`/categories/${a.value.id}`,{title:u.value}),a.value.title=u.value,r.value=!1,d.value=!1}catch(o){console.error("Error renaming category:",o)}},C=async()=>{try{await m.delete(`/categories/${a.value.id}`),x.get("/cookbook"),r.value=!1}catch(o){console.error("Error deleting category:",o)}},$=async o=>{try{await m.delete(`/categories/${a.value.id}/recipes/${o.id}`),g.value=g.value.filter(t=>t.id!==o.id)}catch(t){console.error("Error removing recipe from category:",t)}};return(o,t)=>(l(),S(N,null,{default:v(()=>[e("div",q,[f(y,null,{default:v(()=>[e("div",P,[e("h1",z,h(a.value.title),1),e("div",L,[e("i",{class:"fa-solid fa-ellipsis cursor-pointer",onClick:t[0]||(t[0]=s=>r.value=!r.value)}),r.value?(l(),n("div",Q,[e("button",{onClick:t[1]||(t[1]=s=>d.value=!0),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},"Rename "),e("button",{onClick:C,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},"Delete ")])):_("",!0)])]),e("div",U,[e("div",A,[e("div",null,[e("ul",G,[(l(!0),n(D,null,B(g.value,s=>(l(),n("li",{class:"flex-shrink-0",key:s.id},[f(y,null,{default:v(()=>[e("div",H,[e("div",J,[e("div",K,[s.image_url?(l(),n("img",{key:0,src:s.image_url,alt:"Recipe Image",class:"w-40 h-40 rounded-lg"},null,8,O)):_("",!0)]),e("div",W,[e("h3",X,h(s.title),1)]),e("button",{class:"bg-orange-500 text-white py-2 px-4 rounded-lg",onClick:I=>k(s.id)},"Info ",8,Y),e("button",{class:"bg-red-500 text-white py-2 px-4 rounded-lg",onClick:I=>$(s)},"Remove ",8,Z)])])]),_:2},1024)]))),128))])])])])]),_:1})]),d.value?(l(),n("div",ee,[e("div",te,[e("button",{onClick:t[2]||(t[2]=s=>d.value=!1),class:"absolute top-2 right-2 text-gray-500 hover:text-gray-800"},"Ã— "),se,e("form",{onSubmit:E(w,["prevent"])},[V(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>u.value=s),type:"text",class:"border p-2 rounded w-full mb-4",required:""},null,512),[[j,u.value]]),oe],32)])])):_("",!0)]),_:1}))}},ce=T(ae,[["__scopeId","data-v-2ee0f68f"]]);export{ce as default};
