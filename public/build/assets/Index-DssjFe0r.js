import{Q as T,l as p,z as N,o as r,f as R,w as n,a as o,b as l,g as $,k as E,p as M,c,m as k,F as h,u as V,i as z,e as A,t as F,x as L,y as G,s as g}from"./app-DGKbX1wT.js";import{_ as O,P as _}from"./Panel-CC3u8FT2.js";import{_ as y}from"./RecipeCard-Czk-bx09.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BEDKq4pF.js";const f=d=>(L("data-v-1e33568a"),d=d(),G(),d),Y={class:"container mx-auto m-4 px-4 mt-20"},j={class:"flex flex-col"},q={class:"text-center"},Q=f(()=>o("button",{class:"bg-darkOrange text-mintGreen max-sm:mt-2 md:ml-4 rounded-2xl p-2 px-4 shadow dark:shadow-amber-500",type:"submit"},"New Category",-1)),U={class:"grid grid-cols-2 m-4 gap-2"},H={class:"flex flex-col space-y-2 text-center"},J=f(()=>o("div",{class:"font-medium mb-4"},[o("h1",null,"New Categories")],-1)),K={class:"flex flex-wrap justify-evenly max-sm:flex-col text-center"},W=["onDrop"],X={class:"container mx-auto"},Z=f(()=>o("div",{class:"text-center mb-4 font-medium"},[o("h1",null,"New BookMarks")],-1)),ee={class:"container mx-auto"},oe={class:"h-80 overflow-y-scroll hide-scrollbar"},te={class:"flex flex-col space-y-2"},se=["onDragstart"],ae={class:"container mx-auto col-span-2"},re=f(()=>o("div",{class:"text-center text-md mb-4 font-medium"},[o("h1",null,"My Recipes")],-1)),le={class:"container mx-auto"},ne={class:"h-40 overflow-x-auto hide-scrollbar"},ce={class:"flex space-x-4"},ie={__name:"Index",setup(d){const{props:u}=T(),x=p(u.categories),b=p(u.recipes),a=p(Array.isArray(u.bookmarkedRecipes)?u.bookmarkedRecipes:[]),m=p(""),w=async()=>{try{const s=(await axios.post("/cookbook",{title:m.value})).data.category;x.value.push(s),m.value=""}catch(t){console.error("Error creating category:",t)}},B=(t,s)=>{t.dataTransfer.setData("bookmarkId",s)},D=async(t,s)=>{t.preventDefault();const e=t.dataTransfer.getData("bookmarkId");await g.post(`/categories/${s}/bookmarks`,{bookmarkId:e},{onSuccess:()=>{const i=a.value.filter(S=>S.id!==parseInt(e));a.value=i}})},I=t=>{t.preventDefault()},v=t=>{g.get(`/recipes/${t}`)},C=async t=>{try{const s=await axios.post(`/recipes/${t.id}/bookmark`);t.is_bookmarked=s.data.is_bookmarked,t.is_bookmarked?a.value.some(e=>e.id===t.id)||a.value.push(t):a.value=a.value.filter(e=>e.id!==t.id)}catch(s){console.log("Error bookmarking recipe:",s)}};return N(()=>{document.querySelectorAll(".overflow-x-auto").forEach(s=>{s.addEventListener("wheel",function(e){e.deltaY!==0&&(e.preventDefault(),s.scrollLeft+=e.deltaY)})})}),(t,s)=>(r(),R(O,null,{default:n(()=>[o("div",Y,[l(_,null,{default:n(()=>[o("div",j,[o("div",q,[o("form",{onSubmit:$(w,["prevent"])},[E(o("input",{type:"text",class:"rounded-2xl opacity-50 mr-4","onUpdate:modelValue":s[0]||(s[0]=e=>m.value=e),placeholder:"New Category"},null,512),[[M,m.value]]),Q],32)])])]),_:1}),o("div",U,[l(_,null,{default:n(()=>[o("div",H,[J,o("ul",K,[(r(!0),c(h,null,k(x.value,e=>(r(),c("li",{class:"p-2 bg-darkOrange text-mintGreen rounded-lg shadow",key:e.id,onDragover:I,onDrop:i=>D(i,e.id)},[l(V(z),{href:`/categories/${e.id}`},{default:n(()=>[A(F(e.title),1)]),_:2},1032,["href"])],40,W))),128))])])]),_:1}),l(_,null,{default:n(()=>[o("div",X,[Z,o("div",ee,[o("div",oe,[o("ul",te,[(r(!0),c(h,null,k(a.value,e=>(r(),c("li",{key:e.id,draggable:"true",onDragstart:i=>B(i,e.id),class:"p-2 rounded-lg"},[l(y,{recipe:e,isBookmarked:e.is_bookmarked,navigateToRecipe:v,toggleBookmark:C},null,8,["recipe","isBookmarked"])],40,se))),128))])])])])]),_:1}),o("div",ae,[l(_,null,{default:n(()=>[re,o("div",le,[o("div",ne,[o("ul",ce,[(r(!0),c(h,null,k(b.value,e=>(r(),c("li",{class:"flex-shrink-0",key:e.id},[l(y,{class:"my-recipe",recipe:e,navigateToRecipe:v,showBookmark:!1,compact:!0},null,8,["recipe"])]))),128))])])])]),_:1})])])])]),_:1}))}},fe=P(ie,[["__scopeId","data-v-1e33568a"]]);export{fe as default};
