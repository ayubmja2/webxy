import{Q as T,k as _,y as N,o as r,c as R,w as c,b as o,a as l,e as $,i as E,m as M,f as n,l as k,F as h,u as V,j as A,d as F,t as L,s as j,x as q,q as g}from"./app-k8_MMULm.js";import{_ as z}from"./AuthenticatedLayout-D-7ZbPxm.js";import{P as m}from"./Panel-C5KvejGX.js";import{_ as y}from"./RecipeCard-Bq0vxuE9.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CSp0Au1j.js";const f=d=>(j("data-v-8d22f6d9"),d=d(),q(),d),Y={class:"container mx-auto m-4 px-4 mt-20"},Q={class:"flex flex-col"},U={class:"text-center"},G=f(()=>o("button",{class:"bg-orange-400 max-sm:mt-2 md:ml-4 rounded-2xl p-2 px-4 shadow dark:shadow-amber-500",type:"submit"},"New Category",-1)),H={class:"grid grid-cols-2 m-4 gap-2"},J={class:"flex flex-col space-y-2 text-center"},K=f(()=>o("div",null,[o("h1",null,"New Categories")],-1)),O={class:"flex flex-wrap justify-evenly max-sm:flex-col text-center"},W=["onDrop"],X={class:"container mx-auto"},Z=f(()=>o("div",{class:"text-center mb-4"},[o("h1",null,"New BookMarks")],-1)),ee={class:"container mx-auto"},oe={class:"h-80 overflow-y-scroll hide-scrollbar"},te={class:"flex flex-col space-y-2"},se=["onDragstart"],ae={class:"container mx-auto col-span-2"},re=f(()=>o("div",{class:"text-center text-md mb-3"},[o("h1",null,"My Recipes")],-1)),le={class:"container mx-auto"},ce={class:"h-40 overflow-x-auto hide-scrollbar"},ne={class:"flex space-x-4"},ie={__name:"Index",setup(d){const{props:u}=T(),v=_(u.categories),b=_(u.recipes),a=_(Array.isArray(u.bookmarkedRecipes)?u.bookmarkedRecipes:[]),p=_(""),w=async()=>{try{const s=(await axios.post("/cookbook",{title:p.value})).data.category;v.value.push(s),p.value=""}catch(t){console.error("Error creating category:",t)}},B=(t,s)=>{t.dataTransfer.setData("bookmarkId",s)},D=async(t,s)=>{t.preventDefault();const e=t.dataTransfer.getData("bookmarkId");await g.post(`/categories/${s}/bookmarks`,{bookmarkId:e},{onSuccess:()=>{const i=a.value.filter(S=>S.id!==parseInt(e));a.value=i}})},I=t=>{t.preventDefault()},x=t=>{g.get(`/recipes/${t}`)},C=async t=>{try{const s=await axios.post(`/recipes/${t.id}/bookmark`);t.is_bookmarked=s.data.is_bookmarked,t.is_bookmarked?a.value.some(e=>e.id===t.id)||a.value.push(t):a.value=a.value.filter(e=>e.id!==t.id)}catch(s){console.log("Error bookmarking recipe:",s)}};return N(()=>{document.querySelectorAll(".overflow-x-auto").forEach(s=>{s.addEventListener("wheel",function(e){e.deltaY!==0&&(e.preventDefault(),s.scrollLeft+=e.deltaY)})})}),(t,s)=>(r(),R(z,null,{default:c(()=>[o("div",Y,[l(m,null,{default:c(()=>[o("div",Q,[o("div",U,[o("form",{onSubmit:$(w,["prevent"])},[E(o("input",{type:"text",class:"rounded-2xl opacity-50 mr-4","onUpdate:modelValue":s[0]||(s[0]=e=>p.value=e),placeholder:"New Category"},null,512),[[M,p.value]]),G],32)])])]),_:1}),o("div",H,[l(m,null,{default:c(()=>[o("div",J,[K,o("ul",O,[(r(!0),n(h,null,k(v.value,e=>(r(),n("li",{class:"p-2 bg-orange-400 rounded-lg shadow",key:e.id,onDragover:I,onDrop:i=>D(i,e.id)},[l(V(A),{href:`/categories/${e.id}`},{default:c(()=>[F(L(e.title),1)]),_:2},1032,["href"])],40,W))),128))])])]),_:1}),l(m,null,{default:c(()=>[o("div",X,[Z,o("div",ee,[o("div",oe,[o("ul",te,[(r(!0),n(h,null,k(a.value,e=>(r(),n("li",{key:e.id,draggable:"true",onDragstart:i=>B(i,e.id),class:"p-2 rounded-lg"},[l(y,{recipe:e,isBookmarked:e.is_bookmarked,navigateToRecipe:x,toggleBookmark:C},null,8,["recipe","isBookmarked"])],40,se))),128))])])])])]),_:1}),o("div",ae,[l(m,null,{default:c(()=>[re,o("div",le,[o("div",ce,[o("ul",ne,[(r(!0),n(h,null,k(b.value,e=>(r(),n("li",{class:"flex-shrink-0",key:e.id},[l(y,{class:"my-recipe",recipe:e,navigateToRecipe:x,showBookmark:!1,compact:!0},null,8,["recipe"])]))),128))])])])]),_:1})])])])]),_:1}))}},ke=P(ie,[["__scopeId","data-v-8d22f6d9"]]);export{ke as default};
