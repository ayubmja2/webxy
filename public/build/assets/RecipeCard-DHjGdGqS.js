import{l as n,D as w,o as s,c as i,a as o,n as c,t as k,h as l,q as g,b as I,f as C}from"./app-DW5hMwWO.js";const S={class:"container flex justify-between"},$={class:"container grid grid-cols-2"},j={class:"container grid grid-cols-2 overflow-x-hidden"},F={class:"container grid grid-cols-2 overflow-x-hidden"},R=o("i",{class:"fa-solid fa-arrows-rotate"},null,-1),O=[R],q={class:"col-start-2 place-self-end"},E={__name:"SocialIcons",props:{recipe:{type:Object,required:!0},compact:{type:Boolean,default:!1},showSocialIcons:{type:Boolean,default:!0},toggleBookmark:Function},emits:["toggleBookmark","toggleLike"],setup(e,{emit:d}){const t=e,r=n(t.recipe.is_liked||!1),u=n(t.recipe.likes_count||0),f=n(t.recipe.reposts_count||0),p=async a=>{try{await g.post(`/recipes/${a.id}/bookmark`),a.is_bookmarked=!a.is_bookmarked}catch(y){console.log("Error bookmarking recipe:",y)}},v=d,m=n(t.isBookmarked!==void 0?t.isBookmarked:!1),h=n(t.recipe.is_reposted||!1);w(()=>t.recipe.is_liked,a=>{r.value=a}),w(()=>t.recipe.is_bookmarked,a=>{m.value=a});const b=()=>{p?(m.value=!m.value,p(t.recipe)):v("toggleBookmark",t.recipe)},x=async()=>{try{const a=await g.post(`/recipes/${t.recipe.id}/like`);r.value=!r.value,u.value=a.data.likes_count}catch(a){console.error("Error toggling like",a)}},B=async()=>{try{await g.post(`/recipes/${t.recipe.id}/repost`),h.value=!0,f.value++}catch(a){console.error("Error reposting recipe:",a)}};return(a,y)=>(s(),i("div",S,[o("div",$,[e.showSocialIcons?(s(),i("div",{key:0,class:c([(e.compact,"w-1/2"),"container flex justify-between"])},[o("div",j,[o("button",{onClick:x,class:c(r.value?"text-red-500":"text-gray-500")},[o("i",{class:c(r.value?"fas fa-heart":"far fa-heart")},null,2)],2),o("p",null,k(u.value),1)]),o("div",F,[o("button",{onClick:B,class:c(h.value?"tet-blue-500":"text-gray-500")},O,2),o("p",null,k(f.value),1)])],2)):l("",!0),o("div",q,[o("button",{onClick:b,class:c(t.recipe.is_bookmarked?"text-darkOrange":"text-gray-500")},[o("i",{class:c(t.recipe.is_bookmarked?"fas fa-bookmark":"far fa-bookmark")},null,2)],2)])])]))}},L={key:0,class:"container flex justify-between mt-4"},N={__name:"RecipeCardFooter",props:{recipe:{type:Object,required:!0},showFooter:{type:Boolean,default:!0},showSocialIcons:{type:Boolean,default:!0},toggleBookmark:Function},setup(e){return(d,t)=>e.showFooter?(s(),i("div",L,[I(E,{recipe:e.recipe,toggleBookmark:e.toggleBookmark,showSocialIcons:e.showSocialIcons},null,8,["recipe","toggleBookmark","showSocialIcons"])])):l("",!0)}},T={class:"container"},V=["src"],D={class:"container m-auto"},A={__name:"RecipeCard",props:{recipe:{type:Object,required:!0},showBookmark:{type:Boolean,default:!0},iconCompact:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!0},showSocialIcons:{type:Boolean,default:!0},toggleBookmark:Function,navigateToRecipe:Function},setup(e){const d=e;return(t,r)=>(s(),i("div",{class:c([e.compact?"border rounded-md shadow-md p-2":"border rounded-lg shadow-lg p-4 mb-6","bg-green-200"])},[o("div",T,[o("div",{class:c(e.compact?"grid grid-cols-3":"grid grid-cols-2")},[o("div",{class:c((e.compact,"flex flex-col justify-self-center"))},[o("div",{class:c(e.compact?"mx-auto":"m-auto")},[e.recipe.image_url?(s(),i("img",{key:0,src:e.recipe.image_url,alt:"Recipe Image",class:c(e.compact?"w-fit md:w-20 rounded-full":"w-fit md:w-40  object-cover rounded-xl bg-darkOrange shadow-2xl dark:shadow-darkOrange mb-8")},null,10,V)):l("",!0)],2),e.compact?l("",!0):(s(),i("button",{key:0,class:"bg-darkOrange text-white py-2 px-4 rounded-lg",onClick:r[0]||(r[0]=u=>e.navigateToRecipe(e.recipe.id))},"Info "))],2),o("div",{class:c(e.compact?"container p-2 grid-grid-row-2 text-center space-y-4 col-span-2":"container p-2 grid grid-rows-3 text-center space-y-4 ")},[o("div",{class:c(e.compact?"font-bold text-sm my-auto":"font-bold text-lg my-auto")},k(e.recipe.title),3),e.compact?l("",!0):(s(),i("div",{key:0,class:c(e.compact?"container font-medium text-sm line-clamp-1":"container font-medium text-lg line-clamp-2")},k(e.recipe.description),3)),o("div",D,[e.compact?(s(),i("button",{key:0,class:"bg-orange-500 text-white py-1 px-3 rounded-lg",onClick:r[1]||(r[1]=u=>e.navigateToRecipe(e.recipe.id))},"Info ")):l("",!0)])],2)],2),e.showFooter?(s(),C(N,{key:0,recipe:d.recipe,toggleBookmark:e.toggleBookmark,showSocialIcons:e.showSocialIcons},null,8,["recipe","toggleBookmark","showSocialIcons"])):l("",!0)])],2))}};export{A as _};
