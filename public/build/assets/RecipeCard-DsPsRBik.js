import{l as n,B as h,o as r,c as i,a as o,n as c,t as m,h as l,q as v,d as I,f as C}from"./app-lU8TWT0b.js";const S={class:"container flex justify-between"},$={class:"container grid grid-cols-2"},j={class:"container grid grid-cols-2 overflow-x-hidden"},F={class:"container grid grid-cols-2 overflow-x-hidden"},R={class:"col-start-2 place-self-end"},O={__name:"SocialIcons",props:{recipe:{type:Object,required:!0},compact:{type:Boolean,default:!1},showSocialIcons:{type:Boolean,default:!0},toggleBookmark:Function},emits:["toggleBookmark","toggleLike"],setup(e,{emit:d}){const t=e,s=n(t.recipe.is_liked||!1),u=n(t.recipe.likes_count||0),g=n(t.recipe.reposts_count||0),y=async a=>{try{await v.post(`/recipes/${a.id}/bookmark`),a.is_bookmarked=!a.is_bookmarked}catch(k){console.log("Error bookmarking recipe:",k)}},w=d,f=n(t.isBookmarked!==void 0?t.isBookmarked:!1),p=n(t.recipe.is_reposted||!1);h(()=>t.recipe.is_liked,a=>{s.value=a}),h(()=>t.recipe.is_bookmarked,a=>{f.value=a});const b=()=>{y?(f.value=!f.value,y(t.recipe)):w("toggleBookmark",t.recipe)},x=async()=>{try{const a=await v.post(`/recipes/${t.recipe.id}/like`);s.value=!s.value,u.value=a.data.likes_count}catch(a){console.error("Error toggling like",a)}},B=async()=>{try{const a=await v.post(`/recipes/${t.recipe.id}/repost`);p.value=a.data.reposted,p.value?g.value++:g.value--}catch(a){console.error("Error toggling repost:",a)}};return(a,k)=>(r(),i("div",S,[o("div",$,[e.showSocialIcons?(r(),i("div",{key:0,class:c([(e.compact,"w-1/2"),"container flex justify-between"])},[o("div",j,[o("button",{onClick:x,class:c(s.value?"text-red-500":"text-gray-500")},[o("i",{class:c(s.value?"fas fa-heart":"far fa-heart")},null,2)],2),o("p",null,m(u.value),1)]),o("div",F,[o("button",{onClick:B,class:c(p.value?"tet-blue-500":"text-gray-500")},k[0]||(k[0]=[o("i",{class:"fa-solid fa-arrows-rotate"},null,-1)]),2),o("p",null,m(g.value),1)])],2)):l("",!0),o("div",R,[o("button",{onClick:b,class:c(t.recipe.is_bookmarked?"text-darkOrange":"text-gray-500")},[o("i",{class:c(t.recipe.is_bookmarked?"fas fa-bookmark":"far fa-bookmark")},null,2)],2)])])]))}},q={key:0,class:"container flex justify-between mt-4"},E={__name:"RecipeCardFooter",props:{recipe:{type:Object,required:!0},showFooter:{type:Boolean,default:!0},showSocialIcons:{type:Boolean,default:!0},toggleBookmark:Function},setup(e){return(d,t)=>e.showFooter?(r(),i("div",q,[I(O,{recipe:e.recipe,toggleBookmark:e.toggleBookmark,showSocialIcons:e.showSocialIcons},null,8,["recipe","toggleBookmark","showSocialIcons"])])):l("",!0)}},L={class:"container"},N=["src"],T={class:"container m-auto"},z={__name:"RecipeCard",props:{recipe:{type:Object,required:!0},showBookmark:{type:Boolean,default:!0},iconCompact:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!0},showSocialIcons:{type:Boolean,default:!0},toggleBookmark:Function,navigateToRecipe:Function},setup(e){const d=e;return(t,s)=>(r(),i("div",{class:c([e.compact?"border rounded-md shadow-md p-2":"border rounded-lg shadow-lg p-4 mb-6","bg-green-200"])},[o("div",L,[o("div",{class:c(e.compact?"grid grid-cols-3":"grid grid-cols-2")},[o("div",{class:c((e.compact,"flex flex-col justify-self-center"))},[o("div",{class:c(e.compact?"mx-auto":"m-auto")},[e.recipe.image_url?(r(),i("img",{key:0,src:e.recipe.image_url,alt:"Recipe Image",class:c(e.compact?"w-fit md:w-20 rounded-full":"w-fit md:w-40  object-cover rounded-xl bg-darkOrange shadow-2xl dark:shadow-darkOrange mb-8")},null,10,N)):l("",!0)],2),e.compact?l("",!0):(r(),i("button",{key:0,class:"bg-darkOrange text-white py-2 px-4 rounded-lg",onClick:s[0]||(s[0]=u=>e.navigateToRecipe(e.recipe.id))},"Info "))],2),o("div",{class:c(e.compact?"container p-2 grid-grid-row-2 text-center space-y-4 col-span-2":"container p-2 grid grid-rows-3 text-center space-y-4 ")},[o("div",{class:c(e.compact?"font-bold text-sm my-auto":"font-bold text-lg my-auto")},m(e.recipe.title),3),e.compact?l("",!0):(r(),i("div",{key:0,class:c(e.compact?"container font-medium text-sm line-clamp-1":"container font-medium text-lg line-clamp-2")},m(e.recipe.description),3)),o("div",T,[e.compact?(r(),i("button",{key:0,class:"bg-orange-500 text-white py-1 px-3 rounded-lg",onClick:s[1]||(s[1]=u=>e.navigateToRecipe(e.recipe.id))},"Info ")):l("",!0)])],2)],2),e.showFooter?(r(),C(E,{key:0,recipe:d.recipe,toggleBookmark:e.toggleBookmark,showSocialIcons:e.showSocialIcons},null,8,["recipe","toggleBookmark","showSocialIcons"])):l("",!0)])],2))}};export{z as _};
