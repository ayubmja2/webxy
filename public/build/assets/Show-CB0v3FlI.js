import{Q as S,k as B,y as C,K as E,o as n,c as w,w as c,b as e,a as p,t as i,u as t,f as l,i as L,B as N,j,d as V,g as m,l as y,F as k,s as $,x as A}from"./app-CrjKwwG5.js";import{_ as D,P as h}from"./Panel-Bkwnt1yR.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BpJIYqTZ.js";const f=d=>($("data-v-02f8aa74"),d=d(),A(),d),q={class:"container mx-auto"},z={class:"grid grid-cols-3 justify-items-end font-medium mb-8"},F={class:"col-start-2 justify-self-center"},P={key:0,class:"relative"},U={id:"dropdown-menu",class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-20"},K={class:"container mx-auto mb-8"},O={class:"flex flex-row justify-evenly"},Q=["src"],R={class:"grid grid-cols-2 text-center gap-4 mb-8"},T=f(()=>e("h1",null,"Instructions",-1)),G={class:"mt-4"},H=f(()=>e("h1",null,"Ingredients",-1)),J={class:"mt-4"},W={key:0},X={key:1},Y={class:"text-center font-medium"},Z=f(()=>e("h1",null,"Allergens",-1)),ee={class:"flex flex-wrap gap-2"},se={key:0},te={__name:"Show",setup(d){const{props:u}=S(),a=u.recipe,_=B(!1),g=o=>{const r=document.getElementById("dropdown-menu"),s=document.getElementById("ellipsis-icon");r&&s&&!r.contains(o.target)&&!s.contains(o.target)&&(_.value=!1)};C(()=>{document.addEventListener("click",g)}),E(()=>{document.removeEventListener("click",g)});const v=o=>o.toLowerCase().trim().replace(/s$/,""),I=(u.auth.user.allergens||[]).map(o=>v(o)),x=a.ingredients.map(o=>v(o.name)).filter(o=>I.includes(o));return(o,r)=>(n(),w(D,null,{default:c(()=>[e("div",q,[p(h,{class:"flex flex-col mt-6"},{default:c(()=>[e("div",z,[e("h1",F,i(t(a).title),1),t(a).user_id===t(u).auth.user.id?(n(),l("div",P,[e("i",{class:"fa-solid fa-ellipsis cursor-pointer",id:"ellipsis-icon",onClick:r[0]||(r[0]=s=>_.value=!_.value)}),L(e("div",U,[t(a).user_id===t(u).auth.user.id?(n(),w(t(j),{key:0,href:`/recipes/${t(a).id}/edit`,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},{default:c(()=>[V("Edit Recipe")]),_:1},8,["href"])):m("",!0)],512),[[N,_.value]])])):m("",!0)]),e("div",K,[e("div",O,[t(a).image_url?(n(),l("img",{key:0,class:"rounded-lg shadow-2xl dark:shadow-orange-500 mb-4 h-60 w-60",src:t(a).image_url,alt:""},null,8,Q)):m("",!0)])]),e("div",R,[e("div",null,[p(h,null,{default:c(()=>[T,e("h2",G,i(t(a).instruction),1)]),_:1})]),e("div",null,[p(h,null,{default:c(()=>[H,e("ul",J,[(n(!0),l(k,null,y(t(a).ingredients,(s,b)=>(n(),l("li",{key:b},[["Large","Medium","Small"].includes(s.pivot.unit)?(n(),l("span",W,i(s.pivot.quantity)+" "+i(s.pivot.unit)+" "+i(s.name),1)):(n(),l("span",X,i(s.pivot.quantity)+" "+i(s.pivot.unit)+" of "+i(s.name),1))]))),128))])]),_:1})])]),e("div",Y,[p(h,null,{default:c(()=>[Z,e("div",ee,[(n(!0),l(k,null,y(t(x),s=>(n(),l("span",{key:s,class:"bg-red-500 text-white rounded-2xl px-4 py-2"},i(s.charAt(0).toUpperCase()+s.slice(1)),1))),128)),t(x).length===0?(n(),l("span",se,"No allergens found.")):m("",!0)])]),_:1})])]),_:1})])]),_:1}))}},ce=M(te,[["__scopeId","data-v-02f8aa74"]]);export{ce as default};
