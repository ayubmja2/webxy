import{l as p,Q as h,x as g,c as b,a as c,g as E,o as _}from"./app-B0POS_qi.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";var w="https://js.stripe.com/v3",x=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,f="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",L=function(){for(var e=document.querySelectorAll('script[src^="'.concat(w,'"]')),r=0;r<e.length;r++){var n=e[r];if(x.test(n.src))return n}return null},v=function(e){var r="",n=document.createElement("script");n.src="".concat(w).concat(r);var t=document.head||document.body;if(!t)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(n),n},j=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"4.6.0",startTime:r})},s=null,d=null,m=null,R=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},M=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},X=function(e){return s!==null?s:(s=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&e&&console.warn(f),window.Stripe){r(window.Stripe);return}try{var t=L();if(t&&e)console.warn(f);else if(!t)t=v(e);else if(t&&m!==null&&d!==null){var i;t.removeEventListener("load",m),t.removeEventListener("error",d),(i=t.parentNode)===null||i===void 0||i.removeChild(t),t=v(e)}m=M(r,n),d=R(n),t.addEventListener("load",m),t.addEventListener("error",d)}catch(l){n(l);return}}),s.catch(function(r){return s=null,Promise.reject(r)}))},B=function(e,r,n){if(e===null)return null;var t=e.apply(void 0,r);return j(t,n),t},u,S=!1,y=function(){return u||(u=X(null).catch(function(e){return u=null,Promise.reject(e)}),u)};Promise.resolve().then(function(){return y()}).catch(function(o){S||console.warn(o)});var C=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];S=!0;var t=Date.now();return y().then(function(i){return B(i,r,t)})};const G={class:"flex items-center justify-center min-h-screen bg-gray-100"},I={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md"},T={__name:"Show",setup(o){const e=p(null),r=p(null),{props:n}=h();let t=n.clientSecret;g(async()=>{if(e.value=await C("pk_test_51PltAKRuXXbuzMDVLBZ4kfiaXWnGbdvXcRDMGrueJO9ScolrKMr2QMf9C4gph1Hg8V56x2qoEkYHY6ZvazbrHcj000NUeRR6n9"),!e.value){console.error("Stripe failed to initialize.");return}const l={theme:"flat",variables:{colorPrimaryText:"#262626"}};r.value=e.value.elements({clientSecret:t,appearance:l}),r.value.create("payment").mount("#payment-element")});async function i(){const{paymentIntent:l,error:a}=await e.value.confirmPayment({elements:r.value,confirmParams:{return_url:window.location.origin+"/payment-success"}});a?(console.error("Payment failed:",a.message),alert("Payment failed: "+a.message)):await axios.post("/process-checkout",{payment_intent_id:l.id})}return(l,a)=>(_(),b("div",G,[c("div",I,[c("form",{id:"payment-form",onSubmit:E(i,["prevent"])},a[0]||(a[0]=[c("div",{id:"payment-element"},null,-1),c("button",{id:"submit",type:"submit",class:"btn-primary w-full mt-4 py-2 px-4 bg-blue-600 text-white rounded-md"}," Pay $20.00 ",-1)]),32)])]))}},q=P(T,[["__scopeId","data-v-b3bd5c9f"]]);export{q as default};
