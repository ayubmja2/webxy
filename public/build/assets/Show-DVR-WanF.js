import{Q as z,k as V,y as $,K as q,o as _,c as j,w as M,b as l,a as S,t as N,u as c,f as g,i as Q,B as T,j as U,d as Z,g as B,l as A,F as P,s as K,x as R}from"./app-CmdjNes7.js";import{_ as X,P as C}from"./Panel-lvWNy1hL.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BNN42mTV.js";/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var G=2e3,e={s:1,n:0,d:1};function p(t,i){if(isNaN(t=parseInt(t,10)))throw E();return t*i}function d(t,i){if(i===0)throw D();var n=Object.create(y.prototype);n.s=t<0?-1:1,t=t<0?-t:t;var s=b(t,i);return n.n=t/s,n.d=i/s,n}function O(t){for(var i={},n=t,s=2,a=4;a<=n;){for(;n%s===0;)n/=s,i[s]=(i[s]||0)+1;a+=1+2*s++}return n!==t?n>1&&(i[n]=(i[n]||0)+1):i[t]=(i[t]||0)+1,i}var v=function(t,i){var n=0,s=1,a=1,h=0,u=0,k=0,x=1,w=1,r=0,o=1,f=1,m=1,I=1e7,L;if(t!=null)if(i!==void 0){if(n=t,s=i,a=n*s,n%1!==0||s%1!==0)throw tt()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)n=t.n,s=t.d,"s"in t&&(n*=t.s);else if(0 in t)n=t[0],1 in t&&(s=t[1]);else throw E();a=n*s;break}case"number":{if(t<0&&(a=t,t=-t),t%1===0)n=t;else if(t>0){for(t>=1&&(w=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=w);o<=I&&m<=I;)if(L=(r+f)/(o+m),t===L){o+m<=I?(n=r+f,s=o+m):m>o?(n=f,s=m):(n=r,s=o);break}else t>L?(r+=f,o+=m):(f+=r,m+=o),o>I?(n=f,s=m):(n=r,s=o);n*=w}else(isNaN(t)||isNaN(i))&&(s=n=NaN);break}case"string":{if(o=t.match(/\d+|./g),o===null)throw E();if(o[r]==="-"?(a=-1,r++):o[r]==="+"&&r++,o.length===r+1?u=p(o[r++],a):o[r+1]==="."||o[r]==="."?(o[r]!=="."&&(h=p(o[r++],a)),r++,(r+1===o.length||o[r+1]==="("&&o[r+3]===")"||o[r+1]==="'"&&o[r+3]==="'")&&(u=p(o[r],a),x=Math.pow(10,o[r].length),r++),(o[r]==="("&&o[r+2]===")"||o[r]==="'"&&o[r+2]==="'")&&(k=p(o[r+1],a),w=Math.pow(10,o[r+1].length)-1,r+=3)):o[r+1]==="/"||o[r+1]===":"?(u=p(o[r],a),x=p(o[r+2],1),r+=3):o[r+3]==="/"&&o[r+1]===" "&&(h=p(o[r],a),u=p(o[r+2],a),x=p(o[r+4],1),r+=5),o.length<=r){s=x*w,a=n=k+s*h+w*u;break}}default:throw E()}if(s===0)throw D();e.s=a<0?-1:1,e.n=Math.abs(n),e.d=Math.abs(s)};function H(t,i,n){for(var s=1;i>0;t=t*t%n,i>>=1)i&1&&(s=s*t%n);return s}function J(t,i){for(;i%2===0;i/=2);for(;i%5===0;i/=5);if(i===1)return 0;for(var n=10%i,s=1;n!==1;s++)if(n=n*10%i,s>G)return 0;return s}function W(t,i,n){for(var s=1,a=H(10,n,i),h=0;h<300;h++){if(s===a)return h;s=s*10%i,a=a*10%i}return 0}function b(t,i){if(!t)return i;if(!i)return t;for(;;){if(t%=i,!t)return i;if(i%=t,!i)return t}}function y(t,i){if(v(t,i),this instanceof y)t=b(e.d,e.n),this.s=e.s,this.n=e.n/t,this.d=e.d/t;else return d(e.s*e.n,e.d)}var D=function(){return new Error("Division by Zero")},E=function(){return new Error("Invalid argument")},tt=function(){return new Error("Parameters must be integer")};y.prototype={s:1,n:0,d:1,abs:function(){return d(this.n,this.d)},neg:function(){return d(-this.s*this.n,this.d)},add:function(t,i){return v(t,i),d(this.s*this.n*e.d+e.s*this.d*e.n,this.d*e.d)},sub:function(t,i){return v(t,i),d(this.s*this.n*e.d-e.s*this.d*e.n,this.d*e.d)},mul:function(t,i){return v(t,i),d(this.s*e.s*this.n*e.n,this.d*e.d)},div:function(t,i){return v(t,i),d(this.s*e.s*this.n*e.d,this.d*e.n)},clone:function(){return d(this.s*this.n,this.d)},mod:function(t,i){if(isNaN(this.n)||isNaN(this.d))return new y(NaN);if(t===void 0)return d(this.s*this.n%this.d,1);if(v(t,i),e.n===0&&this.d===0)throw D();return d(this.s*(e.d*this.n)%(e.n*this.d),e.d*this.d)},gcd:function(t,i){return v(t,i),d(b(e.n,this.n)*b(e.d,this.d),e.d*this.d)},lcm:function(t,i){return v(t,i),e.n===0&&this.n===0?d(0,1):d(e.n*this.n,b(e.n,this.n)*b(e.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new y(NaN):d(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new y(NaN):d(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new y(NaN):d(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,i){return v(t,i),d(this.s*Math.round(this.n*e.d/(this.d*e.n))*e.n,e.d)},inverse:function(){return d(this.s*this.d,this.n)},pow:function(t,i){if(v(t,i),e.d===1)return e.s<0?d(Math.pow(this.s*this.d,e.n),Math.pow(this.n,e.n)):d(Math.pow(this.s*this.n,e.n),Math.pow(this.d,e.n));if(this.s<0)return null;var n=O(this.n),s=O(this.d),a=1,h=1;for(var u in n)if(u!=="1"){if(u==="0"){a=0;break}if(n[u]*=e.n,n[u]%e.d===0)n[u]/=e.d;else return null;a*=Math.pow(u,n[u])}for(var u in s)if(u!=="1"){if(s[u]*=e.n,s[u]%e.d===0)s[u]/=e.d;else return null;h*=Math.pow(u,s[u])}return e.s<0?d(h,a):d(a,h)},equals:function(t,i){return v(t,i),this.s*this.n*e.d===e.s*e.n*this.d},compare:function(t,i){v(t,i);var n=this.s*this.n*e.d-e.s*e.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var i=this.abs(),n=i.toContinued(),s=1;s<n.length;s++){for(var a=d(n[s-1],1),h=s-2;h>=0;h--)a=a.inverse().add(n[h]);if(Math.abs(a.sub(i).valueOf())<t)return a.mul(this.s)}return this},divisible:function(t,i){return v(t,i),!(!(e.n*this.d)||this.n*e.d%(e.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var i,n="",s=this.n,a=this.d;return this.s<0&&(n+="-"),a===1?n+=s:(t&&(i=Math.floor(s/a))>0&&(n+=i,n+=" ",s%=a),n+=s,n+="/",n+=a),n},toLatex:function(t){var i,n="",s=this.n,a=this.d;return this.s<0&&(n+="-"),a===1?n+=s:(t&&(i=Math.floor(s/a))>0&&(n+=i,s%=a),n+="\\frac{",n+=s,n+="}{",n+=a,n+="}"),n},toContinued:function(){var t,i=this.n,n=this.d,s=[];if(isNaN(i)||isNaN(n))return s;do s.push(Math.floor(i/n)),t=i%n,i=n,n=t;while(i!==1);return s},toString:function(t){var i=this.n,n=this.d;if(isNaN(i)||isNaN(n))return"NaN";t=t||15;var s=J(i,n),a=W(i,n,s),h=this.s<0?"-":"";if(h+=i/n|0,i%=n,i*=10,i&&(h+="."),s){for(var u=a;u--;)h+=i/n|0,i%=n,i*=10;h+="(";for(var u=s;u--;)h+=i/n|0,i%=n,i*=10;h+=")"}else for(var u=t;i&&u--;)h+=i/n|0,i%=n,i*=10;return h}};const F=t=>(K("data-v-2d3b76b2"),t=t(),R(),t),it={class:"container mx-auto"},nt={class:"grid grid-cols-3 justify-items-end font-medium mb-8"},st={class:"col-start-2 justify-self-center"},et={key:0,class:"relative"},rt={id:"dropdown-menu",class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-20"},ot={class:"container mx-auto mb-8"},at={class:"flex flex-row justify-evenly"},ut=["src"],ht={class:"grid grid-cols-2 text-center gap-4 mb-8"},dt=F(()=>l("h1",null,"Instructions",-1)),ft={class:"mt-4"},lt=F(()=>l("h1",null,"Ingredients",-1)),ct={class:"mt-4"},vt={key:0},mt={key:1},_t={class:"text-center font-medium"},wt=F(()=>l("h1",null,"Allergens",-1)),Nt={class:"flex flex-wrap gap-2"},gt={key:0},pt={__name:"Show",setup(t){const{props:i}=z(),n=i.recipe,s=V(!1),a=r=>{const o=document.getElementById("dropdown-menu"),f=document.getElementById("ellipsis-icon");o&&f&&!o.contains(r.target)&&!f.contains(r.target)&&(s.value=!1)};$(()=>{document.addEventListener("click",a)}),q(()=>{document.removeEventListener("click",a)});const h=r=>r.toLowerCase().trim().replace(/s$/,""),u=r=>{try{return new y(r).toFraction(!0)}catch{return r}},k=(i.auth.user.allergens||[]).map(r=>h(r)),w=n.ingredients.map(r=>h(r.name)).filter(r=>k.includes(r));return(r,o)=>(_(),j(X,null,{default:M(()=>[l("div",it,[S(C,{class:"flex flex-col mt-6"},{default:M(()=>[l("div",nt,[l("h1",st,N(c(n).title),1),c(n).user_id===c(i).auth.user.id?(_(),g("div",et,[l("i",{class:"fa-solid fa-ellipsis cursor-pointer",id:"ellipsis-icon",onClick:o[0]||(o[0]=f=>s.value=!s.value)}),Q(l("div",rt,[c(n).user_id===c(i).auth.user.id?(_(),j(c(U),{key:0,href:`/recipes/${c(n).id}/edit`,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},{default:M(()=>[Z("Edit Recipe")]),_:1},8,["href"])):B("",!0)],512),[[T,s.value]])])):B("",!0)]),l("div",ot,[l("div",at,[c(n).image_url?(_(),g("img",{key:0,class:"rounded-lg shadow-2xl dark:shadow-orange-500 mb-4 h-60 w-60",src:c(n).image_url,alt:""},null,8,ut)):B("",!0)])]),l("div",ht,[l("div",null,[S(C,null,{default:M(()=>[dt,l("h2",ft,N(c(n).instruction),1)]),_:1})]),l("div",null,[S(C,null,{default:M(()=>[lt,l("ul",ct,[(_(!0),g(P,null,A(c(n).ingredients,(f,m)=>(_(),g("li",{key:m},[["Large","Medium","Small"].includes(f.pivot.unit)?(_(),g("span",vt,N(u(f.pivot.quantity))+" "+N(u(f.pivot.unit))+" "+N(u(f.name)),1)):(_(),g("span",mt,N(u(f.pivot.quantity))+" "+N(u(f.pivot.unit))+" "+N(u(f.name)),1))]))),128))])]),_:1})])]),l("div",_t,[S(C,null,{default:M(()=>[wt,l("div",Nt,[(_(!0),g(P,null,A(c(w),f=>(_(),g("span",{key:f,class:"bg-red-500 text-white rounded-2xl px-4 py-2"},N(f.charAt(0).toUpperCase()+f.slice(1)),1))),128)),c(w).length===0?(_(),g("span",gt,"No allergens found.")):B("",!0)])]),_:1})])]),_:1})])]),_:1}))}},kt=Y(pt,[["__scopeId","data-v-2d3b76b2"]]);export{kt as default};
